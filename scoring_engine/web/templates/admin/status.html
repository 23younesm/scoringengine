{% extends 'admin/adminbase.html' %}
{% block title %}Admin - Status{% endblock %}
{% block admincontent %}
<div class="container">
  <div class="row">
    <span>Round Progress</span>
    <div class="progress">
        <div id="totalPercent" class="progress-bar" role="progressbar" aria-valuenow="70"
        aria-valuemin="0" aria-valuemax="100" style="width:70%">
            <span id="totalProgress">70%</span>
        </div>
    </div>
  </div>
  <div class="row">
    <span>Team 1</span>
    <div class="progress">
      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
        <span>40%</span>
      </div>
    </div>
    <span>Team 2</span>
    <div class="progress">
      <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%">
        <span>20%</span>
      </div>
    </div>
    <span>Team 3</span>
    <div class="progress">
      <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
        <span>60%</span>
      </div>
    </div>
    <span>Team 4</span>
    <div class="progress">
      <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
        <span>80%</span>
      </div>
    </div>
  </div>
</div>
<script>
function getProgress(){
    $.getJSON('/admin/api/get_progress/total', function(data) {
        $("#totalPercent").css('width', data.total + "%").attr('aria-valuenow', data.total);
        $("#totalProgress ").text(data.total + "%");
    });
}

var getTotalProgress = setInterval(getProgress, 5000);
</script>
{% endblock %}