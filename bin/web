#!/usr/bin/env python


from scoring_engine.web import app as application
from scoring_engine.db import session, verify_db_ready

from scoring_engine.version import version
from scoring_engine.logger import logger


if __name__ == '__main__':
    if not verify_db_ready(session):
        raise Exception("Database is not initialized, must run bin/setup")

    logger.info("Starting Web v.{0}".format(version))

    if application.debug:
        application.run()
    else:
        application.run(host='0.0.0.0')
